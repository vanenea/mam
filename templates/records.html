{% extends "base.html" %}
{% block content %}
<h3 class="mb-3">账户记录查询</h3>

<form method="get" action="/records" class="row g-2 mb-3">
  <div class="col-md-4">
    <input type="date" class="form-control" name="date" value="{{ date }}">
  </div>
  <div class="col-md-2 d-grid">
    <button class="btn btn-primary">查询</button>
  </div>
</form>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>日期</th>
      <th>用户</th>
      <th>账户</th>
      <th>金额</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    {% for r in records %}
    <tr>
      <form method="POST" action="/update">
        <td><input type="text" class="form-control form-control-sm" value="{{ r[1] }}" disabled></td>
        <td><input type="text" name="user" class="form-control form-control-sm" value="{{ r[2] }}"></td>
        <td><input type="text" name="account" class="form-control form-control-sm" value="{{ r[3] }}"></td>
        <td><input type="number" step="0.01" name="amount" class="form-control form-control-sm" value="{{ r[4] }}"></td>
        <td>
          <input type="hidden" name="id" value="{{ r[0] }}">
          <button class="btn btn-success btn-sm">保存</button>
          <button class="btn btn-success btn-sm">删除</button>
        </td>
      </form>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}